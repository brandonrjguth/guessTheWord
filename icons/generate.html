<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
    <style>
        canvas {
            border: 1px solid black;
            margin: 10px;
        }
        body {
            display: flex;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <script>
    const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
    
    function downloadIcon(canvas, size) {
        const link = document.createElement('a');
        link.download = `icon-${size}x${size}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
    }

    sizes.forEach(size => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        document.body.appendChild(canvas);
        
        const ctx = canvas.getContext('2d');
        
        // Background
        ctx.fillStyle = '#4527A0';
        ctx.beginPath();
        ctx.roundRect(0, 0, size, size, size * 0.125);
        ctx.fill();
        
        // Text
        ctx.fillStyle = 'white';
        ctx.font = `bold ${size * 0.6}px Arial`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('W', size/2, size/2);
        
        // Download button
        const button = document.createElement('button');
        button.textContent = `Download ${size}x${size}`;
        button.onclick = () => downloadIcon(canvas, size);
        document.body.appendChild(button);
    });

    // Add download all button
    const downloadAllBtn = document.createElement('button');
    downloadAllBtn.textContent = 'Download All Icons';
    downloadAllBtn.style.display = 'block';
    downloadAllBtn.style.margin = '20px';
    downloadAllBtn.onclick = () => {
        const canvases = document.querySelectorAll('canvas');
        canvases.forEach((canvas, index) => {
            setTimeout(() => {
                downloadIcon(canvas, sizes[index]);
            }, index * 500); // Delay each download to prevent browser blocking
        });
    };
    document.body.appendChild(downloadAllBtn);
    </script>
</body>
</html>
